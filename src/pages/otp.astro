---
import Layout from "../layouts/Layout.astro";
import OTPForm from "../components/OTPForm.svelte";

// Get the email from the URL query parameter if available
const email = Astro.url.searchParams.get("email");
const token = Astro.url.searchParams.get("token");
---

<Layout showTopBar={false}>
  <main class='container mx-auto px-4 py-8'>
    <OTPForm
      email={email}
      token={token}
      client:load
      onVerifySuccess={() => {
        // Redirect to home page after successful verification
        window.location.href = "/home";
      }}
    />
  </main>
</Layout>
